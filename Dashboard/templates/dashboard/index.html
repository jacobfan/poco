{% extends "dashboard/base.html" %}

{% block style %}
    td.num {
        text-align: right;
    }
    td.na {
        text-align: right;
    }
{% endblock %}

{% block head %}


<script src="{{STATIC_URL}}highcharts-2.1.6/js/highcharts.js" type="text/javascript"></script>

<script type="text/javascript">
Highcharts.theme = {
   chart: {
      margin: [50, 55, 60, 55],
      backgroundColor: {
         linearGradient: [0, 0, 500, 500],
         stops: [
            [0, 'rgb(240, 240, 255)'],
            [1, 'rgb(255, 255, 255)']
         ]
      },
      borderWidth: 1,
      plotBackgroundColor: 'rgba(255, 255, 255, .9)',
      plotShadow: true,
      plotBorderWidth: 1
   },
   
   colors: ['#058DC7', '#50B432', '#ED561B', '#DDDF00', '#24CBE5', '#64E572', '#FF9655', '#FFF263', '#6AF9C4'],
  
   credits: {
      href: "http://tuijanbao.net",
      text: "推荐宝"
   },

   labels: {
      style: {
         color: '#99b'
      }
   },
   legend: {
         align: 'left',
         verticalAlign: 'top',
         y: 10,
         x: 40,
         floating: true,
         borderWidth: 0,

      itemStyle: {         
         font: '9pt Trebuchet MS, Verdana, sans-serif',
         color: 'black'

      },
      itemHoverStyle: {
         color: '#039'
      },
      itemHiddenStyle: {
         color: 'gray'
      }
   },
   plotOptions: {
      areaspline: {
         marker: {
            enabled: false,
            symbol: 'circle',
            radius: 2,
            states: {
               hover: {
                  enabled: true
               }
            }
         }
      }
   },
   subtitle: {
      x: -20,
      style: { 
         color: '#666666',
         font: 'bold 12px "Trebuchet MS", Verdana, sans-serif'
      }
   },
   title: {
      x: -20,
      style: { 
         color: '#000',
         font: 'bold 16px "Trebuchet MS", Verdana, sans-serif'
      }
   },

   xAxis: {
      gridLineWidth: 1,
      lineColor: '#000',
      tickColor: '#000',
      labels: {
         rotation: -45,
         style: {
            color: '#000',
            font: '11px Trebuchet MS, Verdana, sans-serif'
         },
      },
      title: {
         style: {
            color: '#333',
            fontWeight: 'bold',
            fontSize: '12px',
            fontFamily: 'Trebuchet MS, Verdana, sans-serif'

         }            
      }
   },
   yAxis: {
      minorTickInterval: 'auto',
      lineColor: '#000',
      lineWidth: 1,
      tickWidth: 1,
      tickColor: '#000',
      labels: {
         style: {
            color: '#000',
            font: '11px Trebuchet MS, Verdana, sans-serif'
         }
      },
      title: {
         style: {
            color: '#333',
            fontWeight: 'bold',
            fontSize: '12px',
            fontFamily: 'Trebuchet MS, Verdana, sans-serif'
         }            
      }
   }
};

// Apply the theme
var highchartsOptions = Highcharts.setOptions(Highcharts.theme);
var xAxisLabels = [];

function x_dateformatter() {
  xAxisLabels.push(this.value);
  var c_date = this.value.split("-");
  var d  =  new Date(c_date[0], c_date[1]-1, c_date[2]);
  var week = d.getUTCDay();
  if(week == 1)
  {
     return "" + c_date[1] + "-" + c_date[2]
  }
  else
  {
     return ""
  }
}

function x_add_weekend_shadow(c)
{
    var top = c.plotTop + c.plotHeight+10,
        left;
    var xcount = xAxisLabels.length; 
    $(xAxisLabels).each(function(i, label){
        var c_date = label.split("-");
        var d  =  new Date(c_date[0], c_date[1]-1, c_date[2]);
        var week = d.getUTCDay();
    
        if(week == 0 || week == 6)
        {
            width = c.xAxis[0].translate(2) - c.xAxis[0].translate(1)
            left = Math.round(i * width + c.plotLeft+1)
            if(left < c.plotLeft + c.plotWidth)
{
            c.renderer.rect(left, c.plotTop, width, c.plotHeight,0).attr({
                'stroke-width': 0,
                stroke: '#000',
                fill: '#ddd',
                zIndex: -1,
                'label': c_date,
                'left': i * width + c.plotLeft
            }).add();
}
        }
    });
}

function renderChart_1(site_id, data, action_name) {
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: "chart-1"
        },
        title: {
            text: "商品PV和UV图"
        },
        xAxis: {
            categories: data.categories,
        labels: {
         y: 20,
         formatter: x_dateformatter
      },

        },
        yAxis: [{
                    title: {
                        text: '次数'
                    }
                },
                {
                    title: {
                        text: '比率'
                    },
                    opposite: true
                }
        ],
        tooltip: {
            crosshairs: {
            width: 1,
            color: '#333'
            },
            formatter: function() {
                return '<b>' + this.series.name + '</b><br/>' +
                    this.x + ':' + this.y + '次';
            }
        },

        series: [{"name": "商品PV",
                  "data": data.pv_v,
                  "type": "areaspline",
                  "dataLabels": {
                    enabled: false
                    }
                  },
                 {"name": "商品UV",
                  "data": data.uv_v,
                  "type": "areaspline",
                  "dataLabels": {
                    enabled: false
                    }
                  },
                {"name": "PV/UV",
                  "data": data.pv_uv,
                  "type": "line",
                  yAxis: 1
                 }
            ]
        },
        function(c){ x_add_weekend_shadow(c);}
    );
    return chart;
}


function renderChart_plo(site_id, data, action_name) {
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                marginBottom: 30
            },
            title: {
                text: "商品订单数",
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}

            },
            yAxis: [{
                        title: {
                            text: '订单数'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    },
                    {
                        title: {
                            text: '比率'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }],
                        opposite: true
                    }
            ],
            tooltip: {
                formatter: function() {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.x + ':' + this.y + '单';
                }
            },
            series: [{
                       "name": "订单数",
                       "data": data.pv_plo,
                       "type": "column"
                     },

                    {"name": "订单数/商品UV",
                      "data": data.pv_plo_d_uv,
                      "type": "spline",
                      yAxis: 1
                     }
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}

function renderChart_rec(site_id, data, action_name) {
    var sum_pv_v_wo = 0;
    var sum_clickrec = 0;
    for (var index in data.pv_v) {
        if (data.pv_v[index] != null) {
            if (data.clickrec[index] != null) {
                sum_pv_v_wo += data.pv_v[index] - data.clickrec[index];
                sum_clickrec += data.clickrec[index];
            }
        }
    }
    var per_pv_v_wo = Math.round(sum_pv_v_wo / (sum_pv_v_wo + sum_clickrec) * 1000) / 10;
    var per_clickrec = Math.round(sum_clickrec / (sum_pv_v_wo + sum_clickrec) * 1000) / 10;

    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                marginBottom: 30
            },
            title: {
                text: "商品推荐占PV数",
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '次数'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    },
                    {
                        title: {
                            text: '比率'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }],
                        opposite: true
                    }
            ],
            tooltip: {
                formatter: function() {
                    if (this.point.name) {
                        var percentage = 0;
                        if (this.point.name == "非推荐PV") {
                            percentage = "" + per_pv_v_wo + "%";
                        }
                        else {
                            percentage = "" + per_clickrec + "%";
                        };

                        return this.point.name + ":" + this.y + '次, 占' + percentage;
                    
                    }
                    else {
                        return '<b>' + this.series.name + '</b><br/>' +
                            this.x + ':' + this.y + '次';
                    }
                }
            },
            series: [{
                       "name": "商品PV数",
                       "data": data.pv_v,
                       "type": "area"
                     },
                     {
                       "name": "推荐点击数",
                       "data": data.clickrec,
                       "type": "area"
                     },
                     {
                       "name": "推荐点击占PV比",
                       "data": data.clickrec_pv_ratio,
                       "type": "spline",
                       "yAxis": 1
                     },
                     {"type": "pie",
                      "name": "汇总",
                      "data": [
                        {name: "非推荐PV",
                        y: sum_pv_v_wo
                        //color: highchartsOptions.colors[0]
                        },
                        {name: "推荐点击PV",
                        y: sum_clickrec
                        //color: highchartsOptions.colors[1]
                        }
                      ],
                      center: [30, 30],
                      size: 60,
                      showInLegend: true,
                      dataLabels: {
                        enabled: false
                      }
                      }
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}


function renderChart_avg_order_total(site_id, data, action_name) {
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                //marginRight: 30,
                marginBottom: 30
            },
            title: {
                text: "平均客单价",
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '客单价'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    },
                    {
                        title: {
                            text: '客单价差'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }],
                        opposite: true
                    }

            ],
            tooltip: {
                formatter: function() {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.x + ':' + this.y + '元';
                }
            },
            series: [{"name": "客单价",
                      "data": data.avg_order_total,
                      "type": "spline",
                      "dataLabels": {
                        enabled: false
                        }
                      },
                      {"name": "有无推荐客单价差",
                      "data": data.avg_order_total_rec_delta,
                      "type": "spline",
                      "dataLabels": {
                        enabled: false
                        },
                      "yAxis": 1
                      }
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}


function renderChart_total_sales(site_id, data, action_name) {
    var sum_total_sales_without_rec = 0;
    var sum_total_sales_rec_delta = 0;
    for (var index in data.total_sales) {
        if (data.total_sales[index] != null) {
            if (data.total_sales_rec_delta[index] != null) {
                sum_total_sales_without_rec += data.total_sales[index] - data.total_sales_rec_delta[index];
                sum_total_sales_rec_delta += data.total_sales_rec_delta[index];
            }
        }
    }
    
    sum_total_sales_without_rec = Math.round(sum_total_sales_without_rec * 100) / 100;
    sum_total_sales_rec_delta = Math.round(sum_total_sales_rec_delta * 100) / 100;

    var per_total_sales_without_rec = Math.round(sum_total_sales_without_rec / (sum_total_sales_without_rec + sum_total_sales_rec_delta) * 1000) / 10;
    var per_total_sales_rec_delta = Math.round(sum_total_sales_rec_delta / (sum_total_sales_without_rec + sum_total_sales_rec_delta) * 1000) / 10;
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                //marginRight: 30,
                marginBottom: 30
            },
            title: {
                text: "总销售金额",
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '金额'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    },
                    {
                        title: {
                            text: '比率'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }],
                        opposite: true
                    }
            ],
            tooltip: {
                formatter: function() {
                    if (this.point.name) {
                        var percentage = 0;
                        if (this.point.name == "非推荐销售金额") {
                            percentage = "" + per_total_sales_without_rec + "%";
                        }
                        else {
                            percentage = "" + per_total_sales_rec_delta + "%";
                        };

                        return this.point.name + ":" + this.y + '元, 占' + percentage;
                    
                    }
                    else {
                        return '<b>' + this.series.name + '</b><br/>' +
                            this.x + ':' + this.y + '';
                    }
                }
            },
            series: [{"name": "总销售金额",
                      "data": data.total_sales,
                      "type": "area",
                      "dataLabels": {
                        enabled: false
                        }
                      },
                      {"name": "有无推荐销售金额差",
                      "data": data.total_sales_rec_delta,
                      "type": "area",
                      "dataLabels": {
                        enabled: false
                        },
                      },
                      {"name": "推荐贡献比率",
                      "data": data.total_sales_rec_delta_ratio,
                      "type": "spline",
                      "dataLabels": {
                        enabled: false
                        },
                       yAxis: 1
                      },
                     {"type": "pie",
                      "name": "汇总",
                      "data": [
                        {name: "非推荐销售金额",
                        y: sum_total_sales_without_rec
                        //color: highchartsOptions.colors[0]
                        },
                        {name: "推荐销售金额",
                        y: sum_total_sales_rec_delta
                        //color: highchartsOptions.colors[1]
                        }
                      ],
                      center: [30, 30],
                      size: 60,
                      showInLegend: true,
                      dataLabels: {
                        enabled: false
                      }
                      }
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}


function renderChart_unique_sku(site_id, data, action_name) {
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                marginBottom: 30
            },
            title: {
                text: "平均Unique SKU",
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '平均Unique SKU'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    }
            ],
            tooltip: {
                formatter: function() {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.x + ':' + this.y;
                }
            },
            series: [{
                       "name": "平均Unique SKU",
                       "data": data.avg_unique_sku,
                       "type": "spline"
                     },
                     {
                       "name": "平均商品件数",
                       "data": data.avg_item_amount,
                       "type": "spline"
                     }

                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}

function renderChart_rec_ratios(site_id, data, action_name) {
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                marginBottom: 30
            },
            title: {
                text: "推荐点击/请求比",
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '点击/请求比'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    }
            ],
            tooltip: {
                formatter: function() {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.x + ':' + this.y;
                }
            },
            series: [
                    {
                       "name": "看了也看",
                       "data": data["click_rec_show_ratio_recvav"],
                       "type": "spline"
                     },
                    {
                       "name": "根据购买历史",
                       "data": data["click_rec_show_ratio_recph"],
                       "type": "spline"
                     },
                    {
                       "name": "买了也买",
                       "data": data["click_rec_show_ratio_recbab"],
                       "type": "spline"
                     },
                    {
                       "name": "一起买",
                       "data": data["click_rec_show_ratio_recbtg"],
                       "type": "spline"
                     },
                    {
                       "name": "看了最终买",
                       "data": data["click_rec_show_ratio_recvub"],
                       "type": "spline"
                     },
                    {
                       "name": "根据浏览历史",
                       "data": data["click_rec_show_ratio_recbobh"],
                       "type": "spline"
                     },
                    {
                       "name": "根据购物车",
                       "data": data["click_rec_show_ratio_recsc"],
                       "type": "spline"
                     }
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}


function renderChart_rec_by_type(site_id, data, action_name) {
    var action_name2cname = {
        "recvav": "看了也看",
        "recph": "根据购买历史",
        "recbab": "买了也买",
        "recbtg": "一起买",
        "recvub": "看了最终买",
        "recbobh": "根据浏览历史",
        "recsc": "根据购物车"
    };
    var chart_dict = {
            chart: {
                renderTo: "chart-1",
                marginBottom: 30
            },
            title: {
                text: "商品推荐统计 - " + action_name2cname[action_name],
                x: -20
            },
            subtitle: {
                //text: site_id,
                x: -20
            },
            xAxis: {
                categories: data.categories,
                labels: {
                    formatter: x_dateformatter}
            },
            yAxis: [{
                        title: {
                            text: '次数'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }]
                    },
                    {
                        title: {
                            text: '点击/请求比'
                        },
                        plotLines: [{
                            value: 0, width: 1, color: '#808080'
                        }],
                        opposite: true
                    }
            ],
            tooltip: {
                formatter: function() {
                    return '<b>' + this.series.name + '</b><br/>' +
                        this.x + ':' + this.y + '次';
                }
            },
            series: [{
                       "name": "推荐请求数",
                       "data": data["recommendation_request_count_" + action_name],
                       "type": "area"
                     },
                    {
                       "name": "推荐展示数",
                       "data": data["recommendation_show_count_" + action_name],
                       "type": "area"
                     },

                     {
                       "name": "推荐点击数",
                       "data": data["click_rec_count_" + action_name],
                       "type": "area"
                     },
                    {
                       "name": "推荐点击/请求比",
                       "data": data["click_rec_show_ratio_" + action_name],
                       "type": "spline",
                       yAxis: 1
                     },
                ]
    };
    var chart = new Highcharts.Chart(chart_dict);
    return chart;
}
    function fillCharts(site_id, statistics) {
        try{
            renderChart_{{ chart }}(site_id, statistics, "{{ type }}");
            //renderChart_1(site_id, statistics);
            //renderChart_plo(site_id, statistics);
            //{% if user.is_admin %}
            //renderChart_rec(site_id, statistics);
            //{% endif %}
            //renderChart_avg_order_total(site_id, statistics);
            //renderChart_total_sales(site_id, statistics);
            //{% if user.is_admin %}
            //renderChart_unique_sku(site_id, statistics);
            //renderChart_rec_by_type(site_id, statistics, "recvav");
            //renderChart_rec_by_type(site_id, statistics, "recph");
            //renderChart_rec_by_type(site_id, statistics, "recbab");
            //renderChart_rec_by_type(site_id, statistics, "recbtg");
            //renderChart_rec_by_type(site_id, statistics, "recvub");
            //renderChart_rec_by_type(site_id, statistics, "recbobh");
            //renderChart_rec_by_type(site_id, statistics, "recsc");
            //{% endif %}
            //renderChart_rec_ratios(site_id, statistics);
        }catch(err){}
    };

    function updateSiteStatistics(site_id, timespan) {
        $("#chart-1").html("<center style='margin-top:3em'>载入数据中 ... </center>");
        $("#date-space").html("");
        $.getJSON("/ajax/get_site_statistics", {site_id: site_id, timespan: timespan},
                function(data, textStatus, jqXHR) {
                    if (data.code == 0) {
                        if (data.site.items_count > 0) {
                            $("#date-space").html(data.append.date_space);
                            var site_data = data.site;
                            $("#items-count").html(site_data["items_count"]);
                            fillCharts(site_data.site_id, site_data.statistics);
                        }
                        $("#status-line").html("");
                        }
                    else{
                        $("#status-line").html("数据载入失败，请稍后再试。");
                    }
                }
            );
    };
    
    function on_selectors_change() {
        var site_id = $("#site_selector").val();
        var timespan = $("#timespan_selector").val();
        updateSiteStatistics(site_id, timespan);
        $("#site_items_list_link").attr("href", "/site_items_list?site_id=" + site_id);
        $("#update_category_groups_link").attr("href", 
                        "/update_category_groups?site_id=" + site_id);
    }
</script>

<script type="text/javascript">
    $(document).ready(function() {
        on_selectors_change();
        $("#site_selector").change(function() {
            on_selectors_change();
        });
        $("#timespan_selector").change(function() {
            on_selectors_change();
        });
        $(".date-link").click(function() {
            var timespan_list = $(this).attr("id").split("_");
            $("#timespan_selector").val(timespan_list[1]);
            $(".date-selected").removeClass("date-selected");
            $(this).addClass("date-selected");
            on_selectors_change();
        });
    });
</script>
{% endblock %}

{% block content-area %}
    <div>
        <select id="site_selector">
        {% for site in sites %}
            {% if forloop.first %}
                <option value="{{site.site_id}}" selected>{{site.site_name}}</option>
            {% else %}
                <option value="{{site.site_id}}">{{site.site_name}}</option>
            {% endif %}
        {% endfor %}
        </select>
<!--
        <select id="timespan_selector1">
            <option value="15">15天</option>
            <option value="30" selected>30天</option>
            <option value="60">60天</option>
            <option value="90">90天</option>
        </select>
-->
        <a href="javascript:on_selectors_change()">刷新</a>

        <span id="status-line"></span>
        
        收录商品数：<span id="items-count">计算中...</span>
        <a id="site_items_list_link" href="/site_items_list?site_id={{site.site_id}}">查看商品列表</a>
        <a id="update_category_groups_link" href="/update_category_groups?site_id={{site.site_id}}">编辑商品分类组别</a>
    </div>
 
  <div class="whole-container showgrid">
    <div style="float:left;width:17%">
      <ul>
        <li><a href="?chart=1">商品PV和UV</a></li>
        <li><a href="?chart=plo">商品订单数</a></li>
        <li><a href="?chart=rec">商品推荐占PV数</a></li>
        <li><a href="?chart=avg_order_total">平均客单价</a></li>
        <li><a href="?chart=total_sales">总销售金额</a></li>
        <li><a href="?chart=unique_sku">Unique SKU</a></li>
        <li><a href="?chart=rec_by_type&type=recvav">商品推荐统计-看了也看</a></li>
        <li><a href="?chart=rec_by_type&type=recph">商品推荐统计-根据购买历史</a></li>
        <li><a href="?chart=rec_by_type&type=recbab">商品推荐统计-买了也买</a></li>
        <li><a href="?chart=rec_by_type&type=recbtg">商品推荐统计-一起买</a></li>
        <li><a href="?chart=rec_by_type&type=recvub">商品推荐统计-看了最终买</a></li>
        <li><a href="?chart=rec_by_type&type=recbobh">商品推荐统计-根据浏览历史</a></li>
        <li><a href="?chart=rec_by_type&type=recsc">商品推荐攻击-根据购物车</a></li>
      </ul>
    </div>
    <div style="float:right;width:80%">
      <div class="span-7" style="height:50px;padding-top:10px">
        <h3 id="date-space"></h3>
      </div>
      <div class="span-12">
         <ul class="date-menu">
           <li><a href="#" id="date-link_15" class="date-link">15天</a></li>
           <li><a href="#" id="date-link_30" class="date-link date-selected">30天</a></li>
           <li><a href="#" id="date-link_60" class="date-link">60天</a></li>
           <li><a href="#" id="date-link_90" class="date-link">90天</a></li>
         </ul>
      </div>
      <div id="chart-1" class="showgrid" style="float:left;width:90%;height:350px"></div>
      </div>
    </div>
       <input type="hidden" id="timespan_selector" value="30" />
<!-- 
<div>
   <div id="chart-plo" style="width:800px;height:300px;"></div>
    {% if user.is_admin %}
    <div id="chart-rec" style="width:800px;height:300px; margin-top: 30px;"></div>
    {% endif %}
    <div id="chart-avg-order-total" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-total-sales" style="width:800px;height:300px; margin-top: 30px;"></div>
    {% if user.is_admin %}
    <div id="chart-unique-sku" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recvav" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recph" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recbab" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recbtg" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recvub" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recbobh" style="width:800px;height:300px; margin-top: 30px;"></div>
    <div id="chart-rec-recsc" style="width:800px;height:300px; margin-top: 30px;"></div>
    {% endif %}
    <div id="chart-rec-ratios" style="width:800px;height:600px; margin-top: 30px;"></div>
</div>
-->

{% endblock %}
